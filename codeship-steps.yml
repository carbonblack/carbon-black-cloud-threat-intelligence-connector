- name: Linters
  service: testingpython38
  command: docker/bin/linters.sh

- name: Tests
  type: parallel
  exclude: ^main
  steps:
  - name: testing python 3.8
    service: testingpython38
    command: docker/bin/tests_n_reports.sh
  - name: testing ubuntu
    service: testingubuntu
    command: pytest tests/unit

- name: Tests
  type: parallel
  tag: ^main
  steps:
  - name: testing python 3.8
    service: testingpython38
    command: docker/bin/tests_n_reports.sh
  - name: testing ubuntu
    service: testingubuntu
    command: pytest
  - name: testing red hat
    service: testingrhel
    command: pytest
  - name: testing amazon
    service: testingamazon
    command: pytest
  - name: testing suse
    service: testingsuse
    command: pytest
